;/*FB_PKG_DELIM*/

__d("VirtualizationConfig",[],(function(a,b,c,d,e,f){"use strict";a={isVisible:!0,nodeHeight:null};b=4e3;c=0;d=!1;f.DEFAULT_INIT_RENDER_CONFIG=a;f.VERTICAL_HIDEABLE_MARGIN=b;f.HORIZONTAL_HIDEABLE_MARGIN=c;f.IS_INTERSECTION_MARGIN_SUPPORTED=d}),66);
__d("useWeightedScrollSpeedRef.react",["VirtualizationContainerContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect,k=10;e=typeof WeakMap==="function"?WeakMap:Map;var l=new e(),m=new e();function a(a){var b;a===void 0&&(a=null);var d=i(c("VirtualizationContainerContext")),e=typeof a==="function"?a():d==null||(b=d.rootElementRef)==null?void 0:b.current,f=e!=null?e:window,g=(a=m.get(f))!=null?a:{lastScrollY:0,lastTime:Date.now(),speedHistory:[],weightedSpeed:0};m.set(f,g);j(function(){if(!l.has(f)){var a=function(){var a,b=g.lastScrollY,c=g.lastTime,d=g.speedHistory;a=(a=f===window?window.scrollY:e==null?void 0:e.scrollTop)!=null?a:0;var h=Date.now();b=a-b;c=h-c;if(c>0&&b>0&&c>0){b=Math.abs(b/(c/1e3));d.push({speed:b});d.length>k&&d.shift()}g.lastScrollY=a;g.lastTime=h;var i=0,j=0;d.forEach(function(a,b){a=a.speed;b=b+1;i+=a*b;j+=b});g.weightedSpeed=j>0?i/j:0};f.addEventListener("scroll",a);l.set(f,{handleScroll:a,subscribers:0})}var b=l.get(f);b&&b.subscribers++;return function(){b&&--b.subscribers===0&&(f.removeEventListener("scroll",b.handleScroll),l["delete"](f),m["delete"](f))}},[f,g,e]);return g}g["default"]=a}),98);
__d("useDynamicVirtualizationMargin.react",["ExecutionEnvironment","VirtualizationContainerContext","justknobx","react","useDebouncedComet","useWeightedScrollSpeedRef.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useContext,k=b.useEffect,l=b.useRef,m=b.useState,n=c("justknobx")._("3655")/10,o=c("justknobx")._("3656"),p=c("justknobx")._("3657"),q=c("justknobx")._("3658"),r=c("justknobx")._("3659");function s(a,b){return a.bottom===b.bottom&&a.left===b.left&&a.right===b.right&&a.top===b.top}function a(a,b,d,e,f){a===void 0&&(a=!1);e===void 0&&(e=!1);f===void 0&&(f=null);b=m({bottom:d,left:b,right:b,top:d});var g=b[0],i=b[1],t=l(0),u=c("useWeightedScrollSpeedRef.react")(f),v=j(c("VirtualizationContainerContext"));function w(b){if(!a)return;b=b();var c=b>t.current;t.current=b;i(function(a){var b=window.innerHeight,f=u.weightedSpeed;f=f===0?1:f/r;f=q*f;var g=e?1:n,h=e?n:1;g=Math.min(d*g,b);h=Math.min(d*h,b);b=b/p;var i=null;c?i=babelHelpers["extends"]({},a,{bottom:Math.min(h,a.bottom+f),top:Math.min(g,Math.max(b,a.top-f))}):i=babelHelpers["extends"]({},a,{bottom:Math.min(h,Math.max(b,a.bottom-f)),top:Math.min(g,a.top+f)});return s(a,i)?a:i})}var x=c("useDebouncedComet")(w,{wait:o});k(function(){if(!a)return;var b=typeof f==="function"?f():v==null?void 0:v.rootElementRef.current,d=!b,e=d?window:b;if(!(h||(h=c("ExecutionEnvironment"))).canUseDOM||typeof window==="undefined")return;function g(){var a=d?window.scrollY:b==null?void 0:b.scrollTop;return a!=null?a:0}function i(){x(g)}e==null||e.addEventListener("scroll",i,{passive:!0});return function(){e==null||e.removeEventListener("scroll",i,{passive:!0})}},[f,v==null?void 0:v.rootElementRef,x,a]);return g}g["default"]=a}),98);
__d("useMutationStableChecker",["react","useMutationObserver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState;function m(a,b){var c=[];a.forEach(function(a){if(!(a instanceof HTMLElement))return;a.matches(b)&&c.push(a);c.push.apply(c,Array.from(a.querySelectorAll(b)))});return c}function n(a,b,c,d){d===void 0&&(d=!1);var e=m(b,c);return e.length===0?a:d?new Set([].concat(Array.from(a).filter(function(a){return!e.includes(a)}))):new Set([].concat(Array.from(a),e))}var o={childList:!0,subtree:!0};function a(a,b,d){var e=l(!0),f=e[0],g=e[1],h=k(),m=k(new Set()),p=c("useMutationObserver")(function(b){b.forEach(function(a){if(a.type==="childList"){var b=a.addedNodes;a=a.removedNodes;d!=null&&(m.current=n(n(m.current,b,d,!1),a,d,!0))}}),q(a)},o),q=i(function(a){h.current!=null&&window.clearTimeout(h.current),h.current=window.setTimeout(function(){m.current.size>0?q(a):(g(!0),p(null))},a)},[p]);j(function(){a>0?(p(b.current!=null?b.current:null),g(!1)):p(null);return function(){h.current!=null&&window.clearTimeout(h.current),p(null)}},[a,p,b]);return f}g["default"]=a}),98);
__d("useTimeoutStateSinceFirstMounting.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=k(a<=0),c=b[0],d=b[1],e=j(a),f=j(!1);i(function(){var a=window.setTimeout(function(){f.current||(f.current=!0,d(!0))},e.current);return function(){window.clearTimeout(a)}},[]);return c}g["default"]=a}),98);
__d("CometVirtualization.react",["BaseView.react","BaseViewHideable.react","HiddenSubtreeContextProvider.react","HiddenSubtreePassiveContext","VirtualizationConfig","VirtualizationContainerContext","VirtualizationContext","gkx","intersectionObserverEntryIsIntersecting","justknobx","nullIntersectionObserverEntryLogger","react","stylex","unrecoverableViolation","useDynamicVirtualizationMargin.react","useIntersectionObserver","useMergeRefs","useMutationStableChecker","usePrevious","useTimeoutStateSinceFirstMounting.react","useVirtualizationContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var aa=e.unstable_Activity,ba=e.useCallback,k=e.useContext,l=e.useEffect,m=e.useRef,n=e.useState,o=function(){var a=null;return function(){if(a===null){var b;b=(b=document)==null?void 0:b.documentElement;if(b==null)throw c("unrecoverableViolation")("Scroll anchoring feature detection called in an environment without a documentElement","comet_infra");a=b.style.overflowAnchor!=null}return a}}();function ca(a,b){a===void 0&&(a=null);b===void 0&&(b=!1);a=n(a);var c=a[0],d=a[1];l(function(){c===null&&d(function(){return o()})},[c]);return b||(c!=null?c:!1)}var p={invisible:{display:"x1s85apg",$$css:!0},resetBlockFormattingContext:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}},q=c("justknobx")._("1003");function r(a){return typeof a.replace==="function"?a.replace(/\n/g," ").replace(/\s+/g," "):""}function a(){if(typeof IntersectionObserver!=="function")return!1;return typeof IntersectionObserver.toString!=="function"?!1:r(IntersectionObserver.toString()).endsWith("{ [native code] }")}var da=a();function b(a){var b=arguments,e,f=a.activityOnlyMode,g=f===void 0?!1:f,i=a.children,o=a.deferVirtualizationInMs,r=o===void 0?0:o,s=a.deferVirtualizationMutationIntervalInMs,ea=s===void 0?0:s,fa=a.deferVirtualizationPlaceholderSelector,t=a.delayHeightPlaceholderMs,u=t===void 0?0:t,v=a.disableHiding,w=a.hiddenMode,x=w===void 0?"legacy":w,y=a.initialRenderConfig,z=y===void 0?d("VirtualizationConfig").DEFAULT_INIT_RENDER_CONFIG:y,A=a.innerContentXStyle,B=a.isInfiniteScrollUp,ga=B===void 0?!1:B,C=a.leftRightMargin,D=C===void 0?d("VirtualizationConfig").HORIZONTAL_HIDEABLE_MARGIN:C,E=a.mountXStyle,ha=a.pinChildrenOnInteraction,F=a.pinChildrenWithPlayer,G=a.ref,H=a.scrollport,I=H===void 0?null:H,J=a.skipScrollAnchoringCheck_UNSAFE,ia=J===void 0?!1:J,K=a.smartMargin,L=K===void 0?!1:K,M=a.testid,ja=M===void 0?"hideable":M,N=a.topBottomMargin,O=N===void 0?d("VirtualizationConfig").VERTICAL_HIDEABLE_MARGIN:N,ka=a.unmountHiddenChildren,la=a.unmountXStyle,ma=a.xstyle,na=m(null),P=m(null),oa=k(c("HiddenSubtreePassiveContext")),pa=n(!1),qa=pa[0],ra=pa[1],Q=m(!0),sa=n(z.isVisible),R=sa[0],ta=sa[1],ua=n(z.nodeHeight),S=ua[0],T=ua[1],va=c("usePrevious")(R),wa=c("useTimeoutStateSinceFirstMounting.react")(r),U=c("useVirtualizationContext")(),V=k(c("VirtualizationContainerContext")),W=m(null),xa=E!=null?E:ma,ya=la!=null?la:ma;l(function(){var a=Q.current||S==null&&!R;P.current!=null&&a&&(T(P.current.getBoundingClientRect().height),window.clearTimeout(W.current))},[R,S,va,g]);var X=u!=null&&u>0,za=function(d){c("nullIntersectionObserverEntryLogger")(d,"IntersectionObserverEntry is null. num_arguments="+b.length);var a=oa.getCurrentState().hiddenOrBackgrounded_FIXME;if(c("intersectionObserverEntryIsIntersecting")(d))g||(!X?(window.clearTimeout(W.current),T(null)):W.current=window.setTimeout(function(){T(null)},u)),ta(!0);else if(!a){a=d.target.getBoundingClientRect();d=a.height;a=a.width;d>0&&a>0&&(ta(!1),g||X&&(window.clearTimeout(W.current),T(d)))}},Aa=c("useMutationStableChecker")(ea,P,fa);l(function(){Q.current&&(Q.current=!1)},[]);var Ba={bottom:O,left:D,right:D,top:O},Ca=c("useDynamicVirtualizationMargin.react")(L,D,O,ga,I),Da=L?Ca:Ba,Ea=ba(function(){var a=I!=null?I==null?void 0:I():V==null?void 0:V.rootElementRef.current;return a instanceof Element?a:null},[I,V]),Fa=c("useIntersectionObserver")(za,{root:Ea,rootMargin:babelHelpers["extends"]({},Da),scrollMargin:babelHelpers["extends"]({},Da),threshold:0}),Ga=c("useMergeRefs")(Fa,na,G),Ha=function(){if(!qa&&S!==null&&ka!==!1&&(X||!R))return{minHeight:S}}(),Ia=!R&&S!=null,Ja=ca((e=z.hasScrollAnchoring)!=null?e:null,ia),Ka=Ja?Ga:G;if(c("gkx")("22947"))return j.jsx("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf"},{children:j.jsx(c("BaseView.react"),{children:i})}));var Y=function(){ha===!0&&ra(!0)},La=(F!=null?F:!1)&&U.hasFlag("HAS_PLAYER"),Z=da&&q&&ka===!0&&Ia&&!qa&&!U.hasPin()&&!La&&wa&&Aa;U.onVirtualizationChange(Z);var $=q&&!(v!=null?v:!1)&&Ia&&x!=="none";return g?j.jsx(c("VirtualizationContext").Provider,{value:U,children:j.jsx("div",{className:(h||(h=c("stylex")))(p.resetBlockFormattingContext,Z?ya:xa),"data-testid":void 0,"data-virtualized":Z,onClickCapture:Y,onFocusCapture:Y,onKeyPressCapture:Y,ref:Ka,children:j.jsx("div",{className:h(A),ref:P,children:j.jsx(aa,{mode:Z?"hidden":"visible",children:i})})})}):j.jsx(c("VirtualizationContext").Provider,{value:U,children:j.jsx("div",{className:(h||(h=c("stylex")))(p.resetBlockFormattingContext,Z?ya:xa),"data-testid":void 0,"data-virtualized":Z,onClickCapture:Y,onFocusCapture:Y,onKeyPressCapture:Y,ref:Ka,style:Ha,children:x==="legacy"?j.jsx(c("BaseViewHideable.react"),{hidden:$,ref:P,xstyle:[A,$&&p.invisible],children:Z?null:j.jsx(c("HiddenSubtreeContextProvider.react"),{isHidden:$,children:i})}):j.jsx("div",{className:(h||(h=c("stylex")))(A),ref:P,children:Z?null:i})})})}b.displayName=b.name+" [from "+f.id+"]";g["default"]=b}),98);